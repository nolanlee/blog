<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Node.js CLI å¸¸ç”¨å·¥å…· | ğŸ¥© Fresh Meat</title>
    <meta name="description" content="Nolan&#39;s Blog">
    <link rel="icon" href="/blog/images/logo.jpeg">
    
    <link rel="preload" href="/blog/assets/css/0.styles.67d505b8.css" as="style"><link rel="preload" href="/blog/assets/js/app.23b377e0.js" as="script"><link rel="preload" href="/blog/assets/js/4.782620cb.js" as="script"><link rel="preload" href="/blog/assets/js/5.3eca5765.js" as="script"><link rel="preload" href="/blog/assets/js/16.95c9b69d.js" as="script"><link rel="prefetch" href="/blog/assets/js/1.afc69731.js"><link rel="prefetch" href="/blog/assets/js/10.ab9b4892.js"><link rel="prefetch" href="/blog/assets/js/11.1a453b3b.js"><link rel="prefetch" href="/blog/assets/js/12.2550e973.js"><link rel="prefetch" href="/blog/assets/js/13.f1ef9646.js"><link rel="prefetch" href="/blog/assets/js/14.e221b814.js"><link rel="prefetch" href="/blog/assets/js/15.6e8e93c4.js"><link rel="prefetch" href="/blog/assets/js/17.f5a84376.js"><link rel="prefetch" href="/blog/assets/js/18.9634beea.js"><link rel="prefetch" href="/blog/assets/js/19.c913d01e.js"><link rel="prefetch" href="/blog/assets/js/20.37dd5796.js"><link rel="prefetch" href="/blog/assets/js/21.4845a746.js"><link rel="prefetch" href="/blog/assets/js/22.b58ac7fd.js"><link rel="prefetch" href="/blog/assets/js/23.5c7df6e7.js"><link rel="prefetch" href="/blog/assets/js/24.5216d17d.js"><link rel="prefetch" href="/blog/assets/js/25.469c5abc.js"><link rel="prefetch" href="/blog/assets/js/26.c8864557.js"><link rel="prefetch" href="/blog/assets/js/27.3afa2db7.js"><link rel="prefetch" href="/blog/assets/js/6.2cc153b1.js"><link rel="prefetch" href="/blog/assets/js/7.313025fc.js"><link rel="prefetch" href="/blog/assets/js/8.83436894.js"><link rel="prefetch" href="/blog/assets/js/9.a80e595b.js"><link rel="prefetch" href="/blog/assets/js/vuejs-paginate.385abd22.js">
    <link rel="stylesheet" href="/blog/assets/css/0.styles.67d505b8.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div id="vuperess-theme-blog__global-layout"><section id="header-wrapper"><header id="header"><div class="header-wrapper"><div class="title"><a href="/blog/" class="nav-link home-link">ğŸ¥© Fresh Meat </a></div> <div class="header-right-wrap"><ul class="nav"><li class="nav-item"><a href="/blog/" class="nav-link">Home</a></li><li class="nav-item"><a href="/blog/tag/" class="nav-link">Tags</a></li></ul> <div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div></div></div></header></section> <div id="mobile-header"><div class="mobile-header-bar"><div class="mobile-header-title"><a href="/blog/" class="nav-link mobile-home-link">ğŸ¥© Fresh Meat </a> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu"><line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line></svg></div> <div class="mobile-menu-wrapper"><hr class="menu-divider"> <ul class="mobile-nav"><li class="mobile-nav-item"><a href="/blog/" class="nav-link">Home</a></li><li class="mobile-nav-item"><a href="/blog/tag/" class="nav-link">Tags</a></li></ul></div></div></div> <div class="content-wrapper"><div id="vuperess-theme-blog__post-layout"><div class="vuepress-blog-theme-content"><div class="content__default"><h1 id="node-js-cli-å¸¸ç”¨å·¥å…·"><a href="#node-js-cli-å¸¸ç”¨å·¥å…·" aria-hidden="true" class="header-anchor">#</a> Node.js CLI å¸¸ç”¨å·¥å…·</h1> <p>CLI å³ command-line interfaceï¼Œå‘½ä»¤è¡Œå·¥å…·ã€‚æœ€è¿‘å‚ä¸å¼€å‘ä¸€ä¸ª CLI è„šæ‰‹æ¶å·¥å…·ï¼Œæ¥è§¦äº†ä¸€äº›å¥½ç”¨çš„å·¥å…·ã€‚</p> <p>é¦–å…ˆï¼ŒNode.js å†…ç½®äº†å¯¹å‘½ä»¤æ“ä½œçš„æ”¯æŒï¼Œåœ¨ package.json çš„ bin å­—æ®µå¯ä»¥å®šä¹‰å‘½ä»¤åç§°å’Œå…³è”çš„æ‰§è¡Œæ–‡ä»¶ï¼Œæ‰§è¡Œæ–‡ä»¶ä¸€èˆ¬æ”¾åœ¨ bin ç›®å½•ä¸‹ã€‚è¿™æ ·å¦‚æœ node module æ˜¯å…¨å±€å®‰è£…çš„ï¼Œä¼šè‡ªåŠ¨åœ¨ç³»ç»Ÿçš„ bin ç›®å½•ä¸‹å…³è”åˆ°æ‰§è¡Œæ–‡ä»¶ï¼Œå¦‚æœä¸æ˜¯å…¨å±€å®‰è£…ï¼Œä¼šåœ¨ node_modules/.bin ç›®å½•ä¸‹æŒ‚é“¾ã€‚è¿™æ ·å°±å¯ä»¥ç›´æ¥åœ¨ç»ˆç«¯æ‰§è¡Œå‘½ä»¤äº†ã€‚</p> <p>åŸå§‹çš„ Node.js å‘½ä»¤è¡Œå¼€å‘ä¸»è¦åŸºäº process API çš„ stdin å’Œ stdoutï¼Œstdin æ˜¯ä¸€ä¸ª readable stream, stdout æ˜¯ä¸€ä¸ª writable streamï¼Œconsole.log å†…éƒ¨å°±æ˜¯ä½¿ç”¨äº† process.stdoutã€‚å¦‚ä¸‹æ˜¯ä¸€ä¸ªç®€å•çš„ä¾‹å­ï¼š</p> <div class="language-js extra-class"><pre class="language-js"><code>process<span class="token punctuation">.</span>stdin<span class="token punctuation">.</span><span class="token function">setEncoding</span><span class="token punctuation">(</span><span class="token string">'utf8'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

process<span class="token punctuation">.</span>stdin<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'readable'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> chunk<span class="token punctuation">;</span>
  <span class="token comment">// Use a loop to make sure we read all available data.</span>
  <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>chunk <span class="token operator">=</span> process<span class="token punctuation">.</span>stdin<span class="token punctuation">.</span><span class="token function">read</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">!==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    process<span class="token punctuation">.</span>stdout<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">data: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>chunk<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

process<span class="token punctuation">.</span>stdin<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'end'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  process<span class="token punctuation">.</span>stdout<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token string">'end'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="commander"><a href="#commander" aria-hidden="true" class="header-anchor">#</a> commander</h2> <blockquote><p>the complete solution for node.js command-line programs, inspired by Ruby's commander -- TJ</p></blockquote> <p>ä¸€ä¸ªå¿«é€Ÿå¼€å‘ Node.js å‘½ä»¤è¡Œçš„å·¥å…·ï¼Œå¯ä»¥åœ¨è‡ªåŠ¨è§£æå‘½ä»¤å’Œå‚æ•°ï¼Œå…·ä½“ä½¿ç”¨æ–¹æ³•å‚åŠ é¡¹ç›®çš„ README æˆ–è€… API æ–‡æ¡£ <a href="http://tj.github.io/commander.js/" target="_blank" rel="noopener noreferrer">http://tj.github.io/commander.js/<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>ï¼Œè¿™é‡Œåªåˆ—ä¸¾ä¸€äº›ç®€å•çš„ç”¨æ³•ã€‚</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> program <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'commander'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// å®šä¹‰ç‰¹å®šå‘½ä»¤éœ€è¦æ‰§è¡Œçš„å‡½æ•°</span>
<span class="token keyword">function</span> <span class="token function">range</span><span class="token punctuation">(</span><span class="token parameter">val</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> val<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">'..'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span>Number<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">list</span><span class="token punctuation">(</span><span class="token parameter">val</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> val<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">','</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// åˆå§‹åŒ–é…ç½®</span>
program
  <span class="token punctuation">.</span><span class="token function">version</span><span class="token punctuation">(</span><span class="token string">'0.1.0'</span><span class="token punctuation">)</span> <span class="token comment">// è®¾ç½®ç‰ˆæœ¬å·ï¼Œç”¨äº  xxx -V æˆ–è€… --version æ˜¾ç¤º</span>
  <span class="token punctuation">.</span><span class="token function">usage</span><span class="token punctuation">(</span><span class="token string">'[options] &lt;file ...&gt;'</span><span class="token punctuation">)</span> <span class="token comment">// ç”¨äº xxx -h æˆ–è€… --help æ˜¾ç¤ºå¸®åŠ©ä¿¡æ¯</span>
  <span class="token punctuation">.</span><span class="token function">option</span><span class="token punctuation">(</span><span class="token string">'-i, --integer &lt;n&gt;'</span><span class="token punctuation">,</span> <span class="token string">'An integer argument'</span><span class="token punctuation">,</span> parseInt<span class="token punctuation">)</span> <span class="token comment">// ç»‘å®šåˆå§‹åŒ–å‘½ä»¤ï¼Œæ¥å—å‚æ•°ï¼Œæè¿°ï¼Œå¯¹åº”çš„å‡½æ•°</span>
  <span class="token punctuation">.</span><span class="token function">option</span><span class="token punctuation">(</span><span class="token string">'-f, --float &lt;n&gt;'</span><span class="token punctuation">,</span> <span class="token string">'A float argument'</span><span class="token punctuation">,</span> parseFloat<span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">option</span><span class="token punctuation">(</span><span class="token string">'-r, --range &lt;a&gt;..&lt;b&gt;'</span><span class="token punctuation">,</span> <span class="token string">'A range'</span><span class="token punctuation">,</span> range<span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">option</span><span class="token punctuation">(</span><span class="token string">'-l, --list &lt;items&gt;'</span><span class="token punctuation">,</span> <span class="token string">'A list'</span><span class="token punctuation">,</span> list<span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>process<span class="token punctuation">.</span>argv<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// è§£æè¾“å…¥</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">' int: %j'</span><span class="token punctuation">,</span> program<span class="token punctuation">.</span>integer<span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">' float: %j'</span><span class="token punctuation">,</span> program<span class="token punctuation">.</span>float<span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">' optional: %j'</span><span class="token punctuation">,</span> program<span class="token punctuation">.</span>optional<span class="token punctuation">)</span><span class="token punctuation">;</span>
program<span class="token punctuation">.</span>range <span class="token operator">=</span> program<span class="token punctuation">.</span>range <span class="token operator">||</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">' range: %j..%j'</span><span class="token punctuation">,</span> program<span class="token punctuation">.</span>range<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> program<span class="token punctuation">.</span>range<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">' list: %j'</span><span class="token punctuation">,</span> program<span class="token punctuation">.</span>list<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><img src="/blog/images/commander-demo.webp" alt="commander-demo"> <h2 id="inquirer"><a href="#inquirer" aria-hidden="true" class="header-anchor">#</a> inquirer</h2> <blockquote><p>A collection of common interactive command line user interfaces
Strives to be an easily embeddable and beautiful command line interface for Node.js</p></blockquote> <p>ç”¨äºå‘½ä»¤è¡Œçš„äº¤äº’ï¼Œæ¯”å¦‚é—®é¢˜å›ç­”ã€é€‰æ‹©ç­‰ï¼Œé€šè¿‡ Promise çš„æ–¹å¼ï¼Œå°†é—®é¢˜çš„ç­”æ¡ˆæ•°æ®ç¤ºä¾‹å¦‚ä¸‹:</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> inquirer <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'inquirer'</span><span class="token punctuation">)</span>

<span class="token keyword">const</span> questions <span class="token operator">=</span> <span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
      type<span class="token punctuation">:</span> <span class="token string">'input'</span><span class="token punctuation">,</span>
      name<span class="token punctuation">:</span> <span class="token string">'name'</span><span class="token punctuation">,</span>
      message<span class="token punctuation">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">è¯·è¾“å…¥ç»„ä»¶åç§°</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span>
      <span class="token function-variable function">validate</span><span class="token punctuation">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">value</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token keyword">if</span> <span class="token punctuation">(</span>value<span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
          <span class="token keyword">return</span> <span class="token string">'ä¸èƒ½ä¸ºç©º'</span>
      <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>
      type<span class="token punctuation">:</span> <span class="token string">'input'</span><span class="token punctuation">,</span>
      name<span class="token punctuation">:</span> <span class="token string">'version'</span><span class="token punctuation">,</span>
      message<span class="token punctuation">:</span> <span class="token string">'è¯·è¾“å…¥ç»„ä»¶ç‰ˆæœ¬'</span><span class="token punctuation">,</span>
      <span class="token function-variable function">validate</span><span class="token punctuation">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">value</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token keyword">if</span> <span class="token punctuation">(</span>value<span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
          <span class="token keyword">return</span> <span class="token string">'ä¸èƒ½ä¸ºç©º'</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token keyword">default</span><span class="token punctuation">:</span> <span class="token string">'0.0.1'</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>
      type<span class="token punctuation">:</span> <span class="token string">'list'</span><span class="token punctuation">,</span>
      name<span class="token punctuation">:</span> <span class="token string">'ui'</span><span class="token punctuation">,</span>
      message<span class="token punctuation">:</span> <span class="token string">'è¯·é€‰æ‹©åŸºç¡€ç»„ä»¶åº“'</span><span class="token punctuation">,</span>
      choices<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span>
          value<span class="token punctuation">:</span> <span class="token string">'none'</span><span class="token punctuation">,</span>
          name<span class="token punctuation">:</span> <span class="token string">'æ— '</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
          value<span class="token punctuation">:</span> <span class="token string">'element'</span><span class="token punctuation">,</span>
          name<span class="token punctuation">:</span> <span class="token string">'Element UI'</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
          value<span class="token punctuation">:</span> <span class="token string">'vuetify'</span><span class="token punctuation">,</span>
          name<span class="token punctuation">:</span> <span class="token string">'Vuetify'</span>
      <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token keyword">default</span><span class="token punctuation">:</span> <span class="token string">'element'</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>
      type<span class="token punctuation">:</span> <span class="token string">'list'</span><span class="token punctuation">,</span>
      name<span class="token punctuation">:</span> <span class="token string">'element-version'</span><span class="token punctuation">,</span>
      message<span class="token punctuation">:</span> <span class="token string">'è¯·é€‰æ‹©ç‰ˆæœ¬å·'</span><span class="token punctuation">,</span>
      choices<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">'^2.8.2'</span><span class="token punctuation">,</span> <span class="token string">'^1.4.3'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token keyword">default</span><span class="token punctuation">:</span> <span class="token string">'^2.8.2'</span><span class="token punctuation">,</span>
      <span class="token function">when</span><span class="token punctuation">(</span><span class="token parameter">answers</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token keyword">return</span> answers<span class="token punctuation">.</span>ui <span class="token operator">===</span> <span class="token string">'element'</span>
      <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>
      type<span class="token punctuation">:</span> <span class="token string">'list'</span><span class="token punctuation">,</span>
      name<span class="token punctuation">:</span> <span class="token string">'vuetify-version'</span><span class="token punctuation">,</span>
      message<span class="token punctuation">:</span> <span class="token string">'è¯·é€‰æ‹©ç‰ˆæœ¬å·'</span><span class="token punctuation">,</span>
      choices<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">'^2.1.14'</span><span class="token punctuation">,</span> <span class="token string">'^1.5.21'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token keyword">default</span><span class="token punctuation">:</span> <span class="token string">'^2.1.14'</span><span class="token punctuation">,</span>
      <span class="token function">when</span><span class="token punctuation">(</span><span class="token parameter">answers</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token keyword">return</span> answers<span class="token punctuation">.</span>ui <span class="token operator">===</span> <span class="token string">'vuetify'</span>
      <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">]</span><span class="token punctuation">;</span>

inquirer<span class="token punctuation">.</span><span class="token function">prompt</span><span class="token punctuation">(</span>questions<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>console<span class="token punctuation">.</span>log<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><img src="/blog/images/inquirer-demo.webp" alt="inquirer-demo"> <h2 id="chalk"><a href="#chalk" aria-hidden="true" class="header-anchor">#</a> chalk</h2> <p>æä¾›äº†ä¸€ç»„ APIï¼Œå¯ä»¥ä¾¿æ·çš„æ›´æ”¹ç»ˆç«¯è¾“å‡ºæ–‡å­—çš„æ ·å¼ï¼Œå¦‚ä¸‹æ˜¯ä¸€ä¸ªç®€å•çš„ä¾‹å­ï¼Œè¯¦æƒ…è¯·ç§»æ­¥ <a href="https://github.com/chalk/chalk" target="_blank" rel="noopener noreferrer">https://github.com/chalk/chalk<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>ã€‚</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> chalk <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'chalk'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>chalk<span class="token punctuation">.</span>bold<span class="token punctuation">.</span>blue<span class="token punctuation">.</span><span class="token function">underline</span><span class="token punctuation">(</span><span class="token string">'Hello world!'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="ora"><a href="#ora" aria-hidden="true" class="header-anchor">#</a> ora</h2> <blockquote><p>Elegant terminal spinner</p></blockquote> <p>oraå¯ä»¥ç”¨åœ¨åŠ è½½ç­‰å¾…çš„åœºæ™¯ä¸­ï¼Œé’ˆå¯¹åŠ è½½ç»“æœæˆåŠŸã€å¤±è´¥ã€è­¦å‘Šç­‰æä¾›é»˜è®¤çš„å›¾æ ‡å’Œæ ·å¼ã€‚</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> ora <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'ora'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> spinner <span class="token operator">=</span> <span class="token function">ora</span><span class="token punctuation">(</span><span class="token string">'Loading unicorns'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
	spinner<span class="token punctuation">.</span>color <span class="token operator">=</span> <span class="token string">'yellow'</span><span class="token punctuation">;</span>
	spinner<span class="token punctuation">.</span>text <span class="token operator">=</span> <span class="token string">'Loading rainbows'</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

spinner<span class="token punctuation">.</span><span class="token function">stop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="metalsmith"><a href="#metalsmith" aria-hidden="true" class="header-anchor">#</a> metalsmith</h2> <blockquote><p>An extremely simple, pluggable static site generator</p></blockquote> <p>ç”¨åœ¨æ‰¹é‡å¤„ç†æ¨¡æ¿çš„åœºæ™¯ï¼Œç‰¹ç‚¹æ˜¯é€šè¿‡æ’ä»¶çš„æ–¹å¼æ¥å®Œæˆæ¨¡æ¿è£…è½½ï¼Œæœ¬è´¨æ˜¯ä¸€ä¸ªèƒ¶æ°´æ¡†æ¶ã€‚ç”±äºå®˜æ–¹æä¾›äº†ä¸€äº› markdown è½¬æ¢çš„æ’ä»¶ï¼Œæ‰€ä»¥å¯ä»¥ç”¨æ¥ç”Ÿæˆé™æ€ç«™ç‚¹ã€‚</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> Metalsmith  <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'metalsmith'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token function">Metalsmith</span><span class="token punctuation">(</span>process<span class="token punctuation">.</span><span class="token function">cwd</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">metadata</span><span class="token punctuation">(</span>answers<span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">clean</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">source</span><span class="token punctuation">(</span>path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">'./.template'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">destination</span><span class="token punctuation">(</span><span class="token string">'./'</span> <span class="token operator">+</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>answers<span class="token punctuation">.</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">files<span class="token punctuation">,</span> _metalsmith<span class="token punctuation">,</span> done</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> meta <span class="token operator">=</span> _metalsmith<span class="token punctuation">.</span><span class="token function">metadata</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">let</span> name <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>meta<span class="token punctuation">.</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
    <span class="token keyword">let</span> camelName <span class="token operator">=</span> _<span class="token punctuation">.</span><span class="token function">camelCase</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">let</span> kebabName <span class="token operator">=</span> _<span class="token punctuation">.</span><span class="token function">kebabCase</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">let</span> element <span class="token operator">=</span> meta<span class="token punctuation">.</span>ui <span class="token operator">===</span> <span class="token string">'element'</span><span class="token punctuation">;</span>
    <span class="token keyword">let</span> mtd <span class="token operator">=</span> meta<span class="token punctuation">.</span>ui <span class="token operator">===</span> <span class="token string">'mtd'</span><span class="token punctuation">;</span>
    Object<span class="token punctuation">.</span><span class="token function">keys</span><span class="token punctuation">(</span>files<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">fileName</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token keyword">const</span> t <span class="token operator">=</span> files<span class="token punctuation">[</span>fileName<span class="token punctuation">]</span><span class="token punctuation">.</span>contents<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token string">'utf8'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'package.json'</span><span class="token punctuation">,</span> <span class="token string">'description.json'</span><span class="token punctuation">,</span> <span class="token string">'index.js'</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span>path<span class="token punctuation">.</span><span class="token function">basename</span><span class="token punctuation">(</span>fileName<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        files<span class="token punctuation">[</span>fileName<span class="token punctuation">]</span><span class="token punctuation">.</span>contents <span class="token operator">=</span> Buffer<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span>Handlebars<span class="token punctuation">.</span><span class="token function">compile</span><span class="token punctuation">(</span>t<span class="token punctuation">)</span><span class="token punctuation">(</span>replaceData<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">done</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token parameter">err</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token keyword">throw</span> err<span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="update-notifier"><a href="#update-notifier" aria-hidden="true" class="header-anchor">#</a> update-notifier</h2> <blockquote><p>Update notifications for your CLI app</p></blockquote> <p>ç”¨äºåœ¨å‘½ä»¤æ‰§è¡Œæ—¶æç¤ºæ˜¯å¦æœ‰å¯æ›´æ–°çš„ç‰ˆæœ¬ã€‚</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> updateNotifier <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'update-notifier'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> pkg <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'./package.json'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token function">updateNotifier</span><span class="token punctuation">(</span><span class="token punctuation">{</span>pkg<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">notify</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></div> <!----> <hr> <!----></div> <div class="sticker vuepress-toc"><div class="vuepress-toc-item vuepress-toc-h2 active"><a href="#commander" title="commander">commander</a></div><div class="vuepress-toc-item vuepress-toc-h2"><a href="#inquirer" title="inquirer">inquirer</a></div><div class="vuepress-toc-item vuepress-toc-h2"><a href="#chalk" title="chalk">chalk</a></div><div class="vuepress-toc-item vuepress-toc-h2"><a href="#ora" title="ora">ora</a></div><div class="vuepress-toc-item vuepress-toc-h2"><a href="#metalsmith" title="metalsmith">metalsmith</a></div><div class="vuepress-toc-item vuepress-toc-h2"><a href="#update-notifier" title="update-notifier">update-notifier</a></div></div></div></div> <footer class="footer" data-v-97b6647a><div class="footer-left-wrap" data-v-97b6647a><ul class="contact" data-v-97b6647a></ul></div> <div class="footer-right-wrap" data-v-97b6647a><ul class="copyright" data-v-97b6647a></ul></div></footer></div><div class="global-ui"></div></div>
    <script src="/blog/assets/js/app.23b377e0.js" defer></script><script src="/blog/assets/js/4.782620cb.js" defer></script><script src="/blog/assets/js/5.3eca5765.js" defer></script><script src="/blog/assets/js/16.95c9b69d.js" defer></script>
  </body>
</html>
