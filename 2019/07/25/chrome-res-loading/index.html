<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Chrome çš„èµ„æºåŠ è½½ | ğŸ¥© Fresh Meat</title>
    <meta name="description" content="Nolan&#39;s Blog">
    <link rel="icon" href="/blog/images/logo.jpeg">
    
    <link rel="preload" href="/blog/assets/css/0.styles.67d505b8.css" as="style"><link rel="preload" href="/blog/assets/js/app.d251f7e5.js" as="script"><link rel="preload" href="/blog/assets/js/4.782620cb.js" as="script"><link rel="preload" href="/blog/assets/js/5.3eca5765.js" as="script"><link rel="preload" href="/blog/assets/js/17.f5a84376.js" as="script"><link rel="prefetch" href="/blog/assets/js/1.afc69731.js"><link rel="prefetch" href="/blog/assets/js/10.ab9b4892.js"><link rel="prefetch" href="/blog/assets/js/11.1a453b3b.js"><link rel="prefetch" href="/blog/assets/js/12.2550e973.js"><link rel="prefetch" href="/blog/assets/js/13.f1ef9646.js"><link rel="prefetch" href="/blog/assets/js/14.e221b814.js"><link rel="prefetch" href="/blog/assets/js/15.6e8e93c4.js"><link rel="prefetch" href="/blog/assets/js/16.95c9b69d.js"><link rel="prefetch" href="/blog/assets/js/18.9634beea.js"><link rel="prefetch" href="/blog/assets/js/19.c913d01e.js"><link rel="prefetch" href="/blog/assets/js/20.37dd5796.js"><link rel="prefetch" href="/blog/assets/js/21.4845a746.js"><link rel="prefetch" href="/blog/assets/js/22.b58ac7fd.js"><link rel="prefetch" href="/blog/assets/js/23.5c7df6e7.js"><link rel="prefetch" href="/blog/assets/js/24.5216d17d.js"><link rel="prefetch" href="/blog/assets/js/25.469c5abc.js"><link rel="prefetch" href="/blog/assets/js/26.9034e1e1.js"><link rel="prefetch" href="/blog/assets/js/6.2cc153b1.js"><link rel="prefetch" href="/blog/assets/js/7.313025fc.js"><link rel="prefetch" href="/blog/assets/js/8.83436894.js"><link rel="prefetch" href="/blog/assets/js/9.a80e595b.js"><link rel="prefetch" href="/blog/assets/js/vuejs-paginate.385abd22.js">
    <link rel="stylesheet" href="/blog/assets/css/0.styles.67d505b8.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div id="vuperess-theme-blog__global-layout"><section id="header-wrapper"><header id="header"><div class="header-wrapper"><div class="title"><a href="/blog/" class="nav-link home-link">ğŸ¥© Fresh Meat </a></div> <div class="header-right-wrap"><ul class="nav"><li class="nav-item"><a href="/blog/" class="nav-link">Home</a></li><li class="nav-item"><a href="/blog/tag/" class="nav-link">Tags</a></li></ul> <div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div></div></div></header></section> <div id="mobile-header"><div class="mobile-header-bar"><div class="mobile-header-title"><a href="/blog/" class="nav-link mobile-home-link">ğŸ¥© Fresh Meat </a> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu"><line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line></svg></div> <div class="mobile-menu-wrapper"><hr class="menu-divider"> <ul class="mobile-nav"><li class="mobile-nav-item"><a href="/blog/" class="nav-link">Home</a></li><li class="mobile-nav-item"><a href="/blog/tag/" class="nav-link">Tags</a></li></ul></div></div></div> <div class="content-wrapper"><div id="vuperess-theme-blog__post-layout"><div class="vuepress-blog-theme-content"><div class="content__default"><h1 id="chrome-çš„èµ„æºåŠ è½½"><a href="#chrome-çš„èµ„æºåŠ è½½" aria-hidden="true" class="header-anchor">#</a> Chrome çš„èµ„æºåŠ è½½</h1> <h2 id="èµ„æºåˆ†ç±»"><a href="#èµ„æºåˆ†ç±»" aria-hidden="true" class="header-anchor">#</a> èµ„æºåˆ†ç±»</h2> <p>Chrome å°†èµ„æºåˆ†ä¸ºä»¥ä¸‹å‡ ç±»ï¼š</p> <ul><li>MainResource (ä¸»é¡µé¢ã€iframeé¡µé¢)</li> <li>CSS</li> <li>Font</li> <li>Script</li> <li>Raw (XHR)</li> <li>ImportResource</li> <li>XSL</li> <li>Image</li> <li>Media</li> <li>SVG</li> <li>TextTrack (video å­—å¹•)</li> <li>Prefetch Link</li></ul> <h2 id="åŠ è½½è¿‡ç¨‹"><a href="#åŠ è½½è¿‡ç¨‹" aria-hidden="true" class="header-anchor">#</a> åŠ è½½è¿‡ç¨‹</h2> <ol><li>é¢„å¤„ç†è¯·æ±‚
<ul><li>æ¯å‘èµ·è¯·æ±‚ä¼šç”Ÿæˆä¸€ä¸ª ResourceRequest å¯¹è±¡ï¼ŒåŒ…å«äº† http è¯·æ±‚æ‰€æœ‰ä¿¡æ¯</li> <li>å®‰å…¨æ£€æŸ¥ï¼Œæ£€æŸ¥è¯·æ±‚æ˜¯å¦åˆæ³•å¹¶åšå“åº”å¤„ç†
<ul><li>å†…å®¹å®‰å…¨ç­–ç•¥æ£€æŸ¥ ï¼ˆcontent security policyï¼‰ï¼Œé˜²æ­¢ XSS æ”»å‡»ï¼Œ<code>&lt;meta http-equiv=&quot;Content-Security-Policy&quot; content=&quot;img-src 'self';&quot;&gt;</code></li> <li>åè®®å‡çº§ <code>&lt;meta http-equiv=&quot;Content-Security-Policy&quot; content=&quot;upgrade-insecure-requests&quot;&gt;</code></li> <li>é˜»æ­¢éè¢«åŠ¨æ··åˆå†…å®¹ ï¼ˆoptionally-blockable mixed contentï¼‰audioã€faviconã€imageã€video
<ul><li><code>&lt;meta http-equiv=&quot;Content-Security-Policy&quot; content=&quot;block-all-mixed-content&quot;&gt;</code></li> <li>å¯¹äºblockableï¼Œå¦‚æœç”¨æˆ·å…è®¸æƒ…å†µä¸‹ï¼Œå¯ä»¥åŠ è½½</li></ul></li> <li>æºé˜»å¡ ï¼ˆorigin blockï¼‰ï¼Œæ¯”å¦‚ svg èµ„æºè¯·æ±‚ä¸èƒ½è·¨åŸŸ
<ul><li>å’ŒåŒæºç­–ç•¥çš„åŒºåˆ«æ˜¯ï¼ŒåŒæºç­–ç•¥é˜»å¡è¯·æ±‚çš„è¿”å›ç»“æœï¼Œæºé˜»å¡æ˜¯é˜»å¡è¯·æ±‚å‘å‡º</li></ul></li></ul></li> <li>æ ¹æ®ä¼˜å…ˆçº§è§„åˆ™ï¼ˆå±æ€§ã€ä½ç½®ï¼‰è¿›è¡Œä¼˜å…ˆçº§è®¡ç®—å’Œæ’åº
<ul><li>ä¸»è¦é’ˆå¯¹ prefetch/preload çš„èµ„æºè¿›è¡Œè°ƒæ•´</li> <li>å‘é€æ¶ˆæ¯ç»™ IO çº¿ç¨‹</li></ul></li></ul></li> <li>èµ„æºåŠ è½½
<ul><li>IO çº¿ç¨‹æœ‰ä¸‰ä¸ªæ—¶æœºæ¥è§¦å‘èµ„æºä¸‹è½½
<ul><li>æ”¶åˆ°æ¸²æŸ“çº¿ç¨‹çš„è¯·æ±‚åŠ è½½èµ„æºæ¶ˆæ¯</li> <li>æ¯ä¸ªè¯·æ±‚å®Œæˆä¹‹åï¼Œè§¦å‘åŠ è½½ pending requests queue é‡ŒæœªåŠ è½½çš„è¯·æ±‚</li> <li>å®šæ—¶å¾ªå pending requests queue</li></ul></li> <li>è¯·æ±‚æŒ‰ç…§ä¼˜å…ˆçº§åˆ†ä¸º delayable å’Œ none-delayable ä¸¤ç§ï¼Œä¼˜å…ˆçº§åœ¨ Net:Medium åŠå…¶ä»¥ä¸Šçš„ä¸º none-delayable</li> <li>è¯·æ±‚æŒ‰ç…§ä¼˜å…ˆçº§åœ¨ Net:medium åŠå…¶ä»¥ä¸Šçš„å’Œ body æ ‡ç­¾æ˜¯æœªå¼€å§‹è§£æçš„è¯·æ±‚ï¼Œè®¾ç½®ä¸º layout-blocking è¯·æ±‚</li> <li>ä¸‹è½½ä¹‹å‰ä¼šè¿›è¡Œåˆ¤æ–­å½“å‰èµ„æºæ˜¯å¦èƒ½å¼€å§‹åŠ è½½ï¼Œæ¡ä»¶æœ‰ï¼š
<ul><li>none-delayable çš„èµ„æºã€åŒæ­¥è¯·æ±‚å’Œéhttpçš„è¯·æ±‚èƒ½å¤Ÿç«‹åˆ»åŠ è½½</li> <li>å¦‚æœæœ‰ä¸€ä¸ª layout-blocking çš„èµ„æºåœ¨åŠ è½½ï¼Œæˆ–è€… body æ ‡ç­¾æ²¡æœ‰è§£æå®Œæˆï¼Œæœ€å¤šåªèƒ½åŠ è½½ä¸€ä¸ª delayable çš„èµ„æº</li> <li>å¦‚æœæ²¡æœ‰ none-delayable å’Œ layout-blocking çš„èµ„æºåœ¨åŠ è½½ï¼Œåˆ™å¯ä»¥å¼€å§‹åŠ è½½ delayable çš„èµ„æº</li> <li>æœ€å¤šåªèƒ½åŒæ—¶å­˜åœ¨ 10 ä¸ªdelayableçš„è¯·æ±‚ ï¼ˆè¶…è¿‡åŒåŸŸ TCP è¿æ¥æ•°ä¸º 6 åˆ™éœ€è¦ç­‰å¾…ï¼‰</li> <li>ç›¸åŒåŸŸåä¸‹æœ€å¤šåŒæ—¶å­˜åœ¨ 6 ä¸ªdelayableçš„è¯·æ±‚</li></ul></li></ul></li> <li>æ¨æµ‹åŠ è½½</li></ol> <p>ç°ä»£æµè§ˆå™¨ä¸ºäº†æé«˜é¡µé¢åŠ è½½é€Ÿåº¦ï¼Œåœ¨é‡åˆ° script çš„æ—¶å€™ï¼ŒDOM ä¼šåœæ­¢æ„å»ºï¼Œä½†æ˜¯ä¼šç»§ç»­æœç´¢é¡µé¢éœ€è¦åŠ è½½çš„èµ„æºï¼Œå¦‚æœæœ‰ img/script æ ‡ç­¾ï¼Œåˆ™è¿›è¡Œé¢„åŠ è½½ï¼Œè€Œä¸ç”¨ç­‰åˆ°è§£æåˆ°æ ‡ç­¾çš„æ—¶å€™å†è¿›è¡ŒåŠ è½½</p> <h2 id="ä¼˜å…ˆçº§åˆ—è¡¨"><a href="#ä¼˜å…ˆçº§åˆ—è¡¨" aria-hidden="true" class="header-anchor">#</a> ä¼˜å…ˆçº§åˆ—è¡¨</h2> <table><thead><tr><th></th> <th></th> <th></th> <th></th> <th></th> <th></th></tr></thead> <tbody><tr><td>Layout-blocking</td> <td>Load in layout-blocking phase</td> <td>Load one-at-a-time in layout-blocking phase</td> <td></td> <td></td> <td></td></tr> <tr><td><strong>Net Priority</strong></td> <td><strong>Highest</strong></td> <td><strong>Medium</strong></td> <td><strong>Low</strong></td> <td><strong>Lowest</strong></td> <td><strong>Idle</strong></td></tr> <tr><td><strong>Blink Priority</strong></td> <td><strong>VeryHigh</strong></td> <td><strong>High</strong></td> <td><strong>Medium</strong></td> <td><strong>Low</strong></td> <td><strong>VeryLow</strong></td></tr> <tr><td><strong>DevTools Priority</strong></td> <td><strong>Highest</strong></td> <td><strong>High</strong></td> <td><strong>Medium</strong></td> <td><strong>Low</strong></td> <td><strong>Lowest</strong></td></tr> <tr><td></td> <td>Main Resource</td> <td></td> <td></td> <td></td> <td></td></tr> <tr><td></td> <td>CSS (match)</td> <td></td> <td></td> <td></td> <td>CSS (mismatch)</td></tr> <tr><td></td> <td></td> <td>Script (early** or not from preload scanner)</td> <td>Script (late**)</td> <td>Script (async)</td> <td></td></tr> <tr><td></td> <td>Font</td> <td>Font (preload)</td> <td></td> <td></td> <td></td></tr> <tr><td></td> <td></td> <td>Import</td> <td></td> <td></td> <td></td></tr> <tr><td></td> <td></td> <td>Image (in viewport)</td> <td></td> <td>Image</td> <td></td></tr> <tr><td></td> <td></td> <td></td> <td></td> <td>Media</td> <td></td></tr> <tr><td></td> <td></td> <td></td> <td></td> <td>SVG Document</td> <td></td></tr> <tr><td></td> <td></td> <td></td> <td></td> <td></td> <td>Prefetch</td></tr> <tr><td></td> <td></td> <td>Preload*</td> <td></td> <td></td> <td></td></tr> <tr><td></td> <td></td> <td>XSL</td> <td></td> <td></td> <td></td></tr> <tr><td></td> <td>XHR (sync)</td> <td>XHR/fetch* (async)</td> <td></td> <td></td> <td></td></tr> <tr><td></td> <td></td> <td></td> <td>Favicon</td> <td></td> <td></td></tr></tbody></table> <ul><li>Preload using â€œasâ€ or fetch using â€œtypeâ€ use the priority of the type they are requesting. (e.g. preload as=stylesheet will use Highest priority). With no â€œasâ€ they will behave like an XHR.</li></ul> <p>** â€œEarlyâ€ is defined as being requested before any non-preloaded images have been requested (â€œlateâ€ is after).</p> <h2 id="å‚è€ƒ"><a href="#å‚è€ƒ" aria-hidden="true" class="header-anchor">#</a> å‚è€ƒ</h2> <blockquote><p><a href="https://docs.google.com/document/d/1bCDuq9H1ih9iNjgzyAL0gpwNFiEP4TZS-YLRp_RuMlc/edit" target="_blank" rel="noopener noreferrer">Resource Fetch Prioritization and Scheduling in Chromium<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <p><a href="https://www.rrfed.com/2017/10/29/chrome-fetch-resource/" target="_blank" rel="noopener noreferrer">ä»Chromeæºç çœ‹æµè§ˆå™¨å¦‚ä½•åŠ è½½èµ„æº<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <p><a href="https://chromium.googlesource.com/chromium/src" target="_blank" rel="noopener noreferrer">https://chromium.googlesource.com/chromium/src<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p></blockquote></div> <!----> <hr> <!----></div> <div class="sticker vuepress-toc"><div class="vuepress-toc-item vuepress-toc-h2 active"><a href="#èµ„æºåˆ†ç±»" title="èµ„æºåˆ†ç±»">èµ„æºåˆ†ç±»</a></div><div class="vuepress-toc-item vuepress-toc-h2"><a href="#åŠ è½½è¿‡ç¨‹" title="åŠ è½½è¿‡ç¨‹">åŠ è½½è¿‡ç¨‹</a></div><div class="vuepress-toc-item vuepress-toc-h2"><a href="#ä¼˜å…ˆçº§åˆ—è¡¨" title="ä¼˜å…ˆçº§åˆ—è¡¨">ä¼˜å…ˆçº§åˆ—è¡¨</a></div><div class="vuepress-toc-item vuepress-toc-h2"><a href="#å‚è€ƒ" title="å‚è€ƒ">å‚è€ƒ</a></div></div></div></div> <footer class="footer" data-v-97b6647a><div class="footer-left-wrap" data-v-97b6647a><ul class="contact" data-v-97b6647a></ul></div> <div class="footer-right-wrap" data-v-97b6647a><ul class="copyright" data-v-97b6647a></ul></div></footer></div><div class="global-ui"></div></div>
    <script src="/blog/assets/js/app.d251f7e5.js" defer></script><script src="/blog/assets/js/4.782620cb.js" defer></script><script src="/blog/assets/js/5.3eca5765.js" defer></script><script src="/blog/assets/js/17.f5a84376.js" defer></script>
  </body>
</html>
